
###############################################################################
#
# Common aliases for bash and zsh
# This file contains aliases that work in both bash and zsh shells
# Source this file in your .bashrc and .zshrc files
#
###############################################################################

# =============================================================================
# Standard alias
# =============================================================================
alias ..='cd ..'
alias lla='ls -Flah'
alias lt='ls -Flht'
alias lta='ls -Flhta'
alias ltr='ls -Flhtr'
alias ltra='ls -Flhtra'
alias du='du -h'
alias dus='du -sh'
# Note: dubydir alias depends on $du_command variable
# This should be defined after du_command is set in the shell config

# =============================================================================
# Directory Navigation Aliases
# =============================================================================

# For pushd, popd and dirs
alias pu='pushd'
alias pu2='pushd +2'
alias pu3='pushd +3'
alias pu4='pushd +4'
alias pd='dirs -v'
alias po='popd'
alias ds='dirs -v'

# =============================================================================
# Claude Code aliases
# =============================================================================
alias claude-teams='tmux new-session -s claude-agents "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1 claude --teammate-mode tmux"'

# =============================================================================
# tmux Aliases
# =============================================================================

# --- tmux aliases ---
alias tmux='tmux -2'
alias tm='tmux -2'

default_tmux_session='dev'
# Connect session
alias ta='tmux attach -t'
alias tadev='tmux attach-session -t ${default_tmux_session}'
# New session
alias tn='tmux new -s'
alias tndev='tmux new-session -s ${default_tmux_session}'
# Show sessions
alias tl='tmux list-sessions'
# Kill session
alias tk='tmux kill-session -t'
alias tkdev='tmux kill-session -t ${default_tmux_session}'
# Reload
alias trel='tmux source-file ~/.tmux.conf && echo "Reloaded tmux.conf"'

# --- tmuxinator aliases ---
alias tx='tmuxinator start'        # Launch project
alias txl='tmuxinator list'        # Show regisetered list
alias txe='tmuxinator edit'        # Edit setting
alias txn='tmuxinator new'         # New project
alias txd='tmuxinator delete'      # Delete project
alias txr='tmuxinator start dev-env' # dev-env: shortcut to launch

# --- tmux + tmuxinator utility ---
alias tclean='tmux kill-server && echo "Killed all tmux sessions."'
alias tpane="tmux list-panes -aF '#S:#I.#P #{pane_title} #{pane_current_command}'"

# Create 4-pane dev session (htop, process watch, files, workspace)
# NOTE: Consider using 'tmuxinator start dev' instead for more flexibility
#       See: ~/dotfiles/config/tmux/tmuxinator/dev.yml
alias td='tmux new-session -s ${default_tmux_session}\; \
  split-window -h -p 60 \; \
  split-window -t 0.0 -v -p 60\; \
  split-window -t 0.2 -v -p 8\; \
  split-window -t 0.0 -v -p 45\; \
  send-keys -t 0.0 "ctop" C-m \; \
  send-keys -t 0.1 "while true; do ~/dotfiles/bin/check_mac_mem_pressure.sh; sleep 10; done" C-m \; \
  send-keys -t 0.2 "btop" C-m \; \
  send-keys -t 0.4 "while true; do clear; dfc; sleep 5; done" C-m \; \
  select-pane -t 0.3'

# Shortcut to launch dev template with tmuxinator (alternative to 'td')
alias tdev='tmuxinator start dev'

# =============================================================================
# Multibyte Character Search Aliases
# =============================================================================

# File names with multibyte characters
alias findmb='LC_ALL=C find . -name "*[^ -~]*" -type f'
# Directory names with multibyte characters
alias findmbd='LC_ALL=C find . -name "*[^ -~]*" -type d'

# Note: Grep-based aliases depend on $grep_command variable
# These should be defined after grep_command is set in the shell config

# =============================================================================
# Git Aliases
# =============================================================================

# 基本コマンド (Basic commands)
alias g='git' # also defined in Oh!MyZsh
alias gs='git status' # git status --short is defined by Oh!MyZsh instead
alias gss='git status --short' # short status format
alias ga='git add' # also defined in Oh!MyZsh
alias gaa='git add .'
alias gc='git commit' # also defined in Oh!MyZsh
alias gcm='git commit -m'
alias gp='git push' # also defined in Oh!MyZsh
alias gpl='git pull' # also defined in Oh!MyZsh

# ブランチ関連 (Branch related)
alias gb='git branch' # also defined in Oh!MyZsh
alias gco='git checkout' # also defined in Oh!MyZsh
alias gcb='git checkout -b'
alias gm='git merge' # also defined in Oh!MyZsh

# ログとdiff (Log and diff)
alias gl='git log' # also defined in Oh!MyZsh
alias glo='git log --oneline'
alias gd='git diff' # also defined in Oh!MyZsh
alias gds='git diff --staged'
alias gdcn='git diff --cached --name-only'
alias gdsn='git diff --staged --name-only'

# リモート関連 (Remote related)
alias gr='git remote' # also defined in Oh!MyZsh
alias grv='git remote -v'

# その他便利なもの (Other useful commands)
alias gst='git stash' # also defined in Oh!MyZsh
alias gstp='git stash pop'
alias grh='git reset HEAD'
alias grhh='git reset --hard HEAD'

# 複合コマンド (Compound commands)
alias gacp='git add . && git commit -m'
alias gpom='git push origin main'
alias gplom='git pull origin main'

# ログを見やすく (Pretty log display)
alias glog='git log --oneline --decorate --graph'
alias gloga='git log --oneline --decorate --graph --all'

# ブランチ切り替えを簡単に (Easy branch switching)
alias gmain='git checkout main'
alias gdev='git checkout develop'

# =============================================================================
# Shell-specific aliases (to be defined in shell config files)
# =============================================================================

# These aliases depend on shell-specific variables and should be defined
# in the respective shell configuration files:
#
# - Grep-based multibyte search aliases (depend on $grep_command)
# - Ripgrep aliases (depend on 'rg' command availability)
# - Shell-specific function definitions
